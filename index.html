<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TradeLab | Free Trading Education</title>
  <link rel="stylesheet" href="style.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <style>
    body {
      opacity: 0;
      transition: opacity 0.5s ease;
    }
  </style>
</head>
<body>

  <nav class="navbar">
    <div class="logo">TradeLab</div>
    <ul class="nav-links">
      <li><a href="#learn">Learning Vault</a></li>
      <li><a href="backtest.html" style="color: #58a6ff;">Backtesting Lab</a></li>
      <li><a href="#market">Market</a></li>
      <li><a href="#community">Community</a></li>

      <li id="loginItem"><a href="login.html">Login</a></li>
      <li id="userItem" style="display: none; color: #00ffc8; font-weight: 600; font-size: 14px; padding-top: 10px;"></li>
      <li id="logoutItem" style="display: none;"><a href="#" onclick="logoutUser()">Logout</a></li>
    </ul>
  </nav>

  <section class="hero">
    <h1>Learn Trading the Right Way</h1>
    <p>
      TradeLab is a free educational platform focused on trading concepts,
      risk management, and disciplined thinking â€” not signals.
    </p>
    <a href="#learn" class="btn">Start Learning</a>
  </section>

  <section id="learn" class="learning">
    <h2>Learning Vault</h2>
    <p class="section-intro">
      Structured, free trading education â€” built for clarity, not hype.
    </p>

    <!-- Progress Tracker Bar -->
    <div class="progress-tracker">
      <div class="progress-info">
        <span class="progress-text">Your Progress</span>
        <span class="progress-count" id="progressCount">0/20 Completed</span>
      </div>
      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="progressBar"></div>
      </div>
    </div>
    
    <!-- Search & Filter Section -->
    <div class="search-filter-container">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="ðŸ” Search videos..." onkeyup="filterVideos()">
      </div>
      <div class="filter-buttons">
        <button class="filter-btn active" onclick="filterByLevel('all')">All</button>
        <button class="filter-btn" onclick="filterByLevel('beginner')">Beginner</button>
        <button class="filter-btn" onclick="filterByLevel('advanced')">Advanced</button>
      </div>
    </div>

    <div class="learning-grid">
      
      <!-- VIDEO 1 -->
      <div class="learning-card step-one">
        <span class="step-badge">STEP 1 Â· START HERE</span>
        <h3>Trading Roadmap (0 â†’ Advanced)</h3>
        <div class="video-card"> 
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">33:13</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/hqXoZtC2sEU?autoplay=0&mute=0&controls=1&rel=0" allowfullscreen></iframe>
          </div>
        </div>
        <p>Complete beginner-to-advanced trading roadmap. Watch this first before learning anything else.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-1')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>
      
      <!-- VIDEO 2 -->
      <div class="learning-card step-two">
        <span class="step-badge step-two-badge">STEP 2 Â· CANDLESTICKS</span>
        <h3>Learn Candlestick Patterns</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">13:30</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/AOz1YPOKvEs" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn candlestick basics, important patterns, and the psychology behind price movement.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-2')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 3 -->
      <div class="learning-card step-two">
        <span class="step-badge step-two-badge">STEP 2A Â· MARKET STRUCTURE</span>
        <h3>Basics of Market Structure</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">20:45</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/sZAE_lqdeno" allowfullscreen></iframe>
          </div>
        </div>
        <p>Understand market structure: higher high, higher low, trend shifts, BOS, and structure-based thinking.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-3')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 4 -->
      <div class="learning-card step-two">
        <span class="step-badge step-two-badge">STEP 2B Â· TRENDLINES</span>
        <h3>Learn Trendlines (Correct Way)</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">45:25</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/Y8efWZ2M1y8" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how to draw valid trendlines, common mistakes, and trend confirmation.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-4')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 5 -->
      <div class="learning-card step-three">
        <span class="step-badge step-three-badge">STEP 3 Â· SUPPORT & RESISTANCE</span>
        <h3>Support & Resistance (Core Concept)</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">41:26</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/nuVv0ZWUfs4" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how institutions mark support & resistance, role-reversal, and supplyâ€“demand zones.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-5')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 6 -->
      <div class="learning-card step-three">
        <span class="step-three-badge">STEP 3A Â· ADVANCED</span>
        <h3>Support & Resistance (Advanced)</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">17:30</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/nujw5BabrWk" allowfullscreen></iframe>
          </div>
        </div>
        <p>Advanced support & resistance concepts including zone marking and fake breakouts.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-6')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 7 -->
      <div class="learning-card step-three">
        <span class="step-badge">STEP 3B Â· ENTRY & STOP-LOSS</span>
        <h3>Entry & Stop-Loss Techniques</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">7:25</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/txXUUeMDos8" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn proper entry timing and stop-loss placement to protect capital.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-7')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 8 -->
      <div class="learning-card step-four">
        <span class="step-badge">STEP 4 Â· RISK MANAGEMENT</span>
        <h3>Risk Management Fundamentals</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">12:38</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/VzMlFZbWA0Y" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn position sizing, risk per trade, stop-loss logic, and how professionals protect capital.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-8')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 9 -->
      <div class="learning-card step-five">
        <span class="step-badge">STEP 5 Â· TRADING PSYCHOLOGY</span>
        <h3>Recommended Book for Trading Psychology</h3>
        <p>
          <span class="book-highlight">ðŸ“˜ <strong>Trading in the Zone â€” Mark Douglas</strong></span><br>
          A classic on mindset, belief systems, and probability thinking. 
          <a href="https://www.amazon.in/dp/0735201447" target="_blank" style="color: #00d4ff; text-decoration: underline;">Get the book here</a>
        </p>
        <h3>Psychology Video</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">13:49</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/RzElN0uHsns" allowfullscreen></iframe>
          </div>
        </div>
        <p>Understand mental frameworks, trader mindset, emotions, and discipline.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-9')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- ADVANCED SEPARATOR -->
      <div class="advanced-separator-container">
        <span class="advanced-separator-content">ADVANCE CONCEPTS</span>
      </div> 

      <!-- VIDEO 10 -->
      <div class="learning-card step-five-a">
        <span class="step-badge">STEP 5A Â· LIQUIDITY</span>
        <h3>Liquidity (How Big Players Move Price)</h3>
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/YUUefUXeZwI" allowfullscreen></iframe>
          <span class="video-time">25:26</span>
        </div>
        <p>Understand liquidity concepts like stop hunts, liquidity pools, and inducement.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-10')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 11 -->
      <div class="learning-card step-five-a1">
        <span class="step-badge">STEP 5A1 Â· LIQUIDITY PRO</span>
        <h3>Liquidity Pro (Advanced)</h3>
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/DAnXM7C16h0" allowfullscreen></iframe>
          <span class="video-time">1:49:36</span>
        </div>
        <p>Deep dive into advanced liquidity concepts including engineered liquidity and multi-timeframe mapping.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-11')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 12 -->
      <div class="learning-card step-five-a2">
        <span class="step-badge">STEP 5A2 Â· SUPPLY & DEMAND</span>
        <h3>Supply & Demand Masterclass</h3>
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/yaCM_cr5BXo" allowfullscreen></iframe>
          <span class="video-time">40:02</span>
        </div>
        <p>Learn how supply and demand zones are formed and how to trade high-probability zones.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-12')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 13 -->
      <div class="learning-card step-five-b1">
        <span class="step-badge">STEP 5B1 Â· SMART MONEY CONCEPT (SMC)</span>
        <h3>Smart Money Concepts (SMC)</h3>
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/52m-dt1tDvw" allowfullscreen></iframe>
          <span class="video-time">17:45</span>
        </div>
        <p>Learn core SMC concepts like BOS, CHoCH, order blocks, and inducement.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-13')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 14 -->
      <div class="learning-card step-five-b2">
        <span class="step-badge">STEP 5B2 Â· SMC CONTINUATION</span>
        <h3>Smart Money Concepts (Continuation)</h3>
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/K1BuYD5KhQ8" allowfullscreen></iframe>
          <span class="video-time">17:53</span>
        </div>
        <p>Advanced continuation of SMC concepts including refinement and confirmation logic.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-14')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 15 -->
      <div class="learning-card step-six">
        <span class="step-badge">STEP 6 Â· RSI ADVANCED</span>
        <h3>RSI Advanced Techniques</h3>
        <div class="video-card">
          <span class="duration">8:51</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/EtRcYFhLSSM" allowfullscreen></iframe>
          </div>
        </div>
        <p>Advanced concepts of RSI: divergence, confirmation, and multi-timeframe signals.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-15')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 16 -->
      <div class="learning-card step-six">
        <span class="step-badge">STEP 6A Â· EMA / MOVING AVERAGE</span>
        <h3>EMA & Moving Average Techniques</h3>
        <div class="video-card">
          <span class="duration">9:08</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/k_kSCjdf8D0" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn the logic behind EMA and moving averages, trend confirmation, and crossovers.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-16')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 17 -->
      <div class="learning-card step-seven-a">
        <span class="step-badge">STEP 7A Â· PARTIAL BOOKING</span>
        <h3>Partial Booking Techniques</h3>
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/PgRZw4omcC8" allowfullscreen></iframe>
          <span class="video-time">18:02</span>
        </div>
        <p>Learn how to book partial profits at key levels while letting the rest of the position run.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-17')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 18 -->
      <div class="learning-card step-seven-b">
        <span class="step-badge">STEP 7B Â· TRAILING STOP-LOSS</span>
        <h3>Trailing Stop-Loss (Protect Profits)</h3>
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/0kl47rZZ4SQ" allowfullscreen></iframe>
          <span class="video-time">23:07</span>
        </div>
        <p>Learn how to trail stop-loss using structure to lock profits while letting winning trades run.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-18')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 19 -->
      <div class="learning-card step-seven-c">
        <span class="step-badge">STEP 7C Â· BREAKEVEN LOGIC</span>
        <h3>Breakeven Logic (Protect Capital)</h3>
        <div class="video-box">
          <iframe src="https://www.youtube.com/embed/Khs1hwkIOiM" allowfullscreen></iframe>
          <span class="video-time">6:57</span>
        </div>
        <p>Learn when and how to move stop-loss to breakeven without getting stopped out early.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-19')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 20 - Text Only Card -->
      <div class="learning-card step-seven-d">
        <span class="step-badge">STEP 7D Â· SCALING IN & SCALING OUT</span>
        <h3>Scaling In & Scaling Out (Position Management)</h3>
        <p>Scaling In and Scaling Out are advanced trade management techniques used to maximize profits.</p>
        <h4>What is Scaling In?</h4>
        <p>Adding more position to a winning trade only when the market confirms your direction.</p>
        <ul>
          <li>Add only to winning trades</li>
          <li>Never add to a losing trade</li>
          <li>Add after confirmation (break & retest)</li>
        </ul>
        <h4>What is Scaling Out?</h4>
        <p>Booking profit in parts instead of closing the entire trade at once.</p>
        <h4>Simple Example</h4>
        <p>A trade is entered at support. Price moves in your favor. A small position is added (Scaling In). Partial profits are booked at resistance (Scaling Out).</p>
        <p><strong>Golden Rule:</strong> Scale In only on winning trades. Scale Out to protect profits.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-20')">
          <span class="check-icon">âœ“</span> Mark Complete
        </button>
      </div>

    </div>
  </section>

  <!-- Firebase Scripts -->
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

  <script>
    // Firebase Configuration
    var firebaseConfig = {
        apiKey: "AIzaSyADSKrrnamZj2_jkfueTXempsNOZlT_nCw",
        authDomain: "tradelab-36d73.firebaseapp.com",
        projectId: "tradelab-36d73",
        storageBucket: "tradelab-36d73.firebasestorage.app",
        messagingSenderId: "29426653428",
        appId: "1:29426653428:web:c6bce7c3d70ecd5be4bf51"
    };

    // Initialize Firebase
    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    // Elements
    const loginItem = document.getElementById('loginItem');
    const logoutItem = document.getElementById('logoutItem');
    const userItem = document.getElementById('userItem');
    
    // Auth State Change
    auth.onAuthStateChanged((user) => {
      if (user) {
        console.log("Access Granted:", user.email);
        document.body.style.opacity = "1";

        if(loginItem) loginItem.style.display = 'none';
        if(logoutItem) logoutItem.style.display = 'block';
        if(userItem) {
          userItem.style.display = 'block';
          userItem.textContent = "Hi, " + user.email.split('@')[0];
        }
      } else {
        console.log("Access Denied. Redirecting...");
        window.location.href = "login.html";
      }
    });

    // Logout Function
    function logoutUser() {
      auth.signOut().then(() => {
      }).catch((error) => {
        console.error("Logout Error:", error);
      });
    }
  </script>

  <!-- Search & Filter Script -->
  <script>
    function filterVideos() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const cards = document.querySelectorAll('.learning-card');
      
      cards.forEach(card => {
        const title = card.querySelector('h3').textContent.toLowerCase();
        const desc = card.querySelector('p') ? card.querySelector('p').textContent.toLowerCase() : '';
        
        if (title.includes(searchTerm) || desc.includes(searchTerm)) {
          card.classList.remove('hidden');
        } else {
          card.classList.add('hidden');
        }
      });
    }

    function filterByLevel(level) {
      const cards = document.querySelectorAll('.learning-card');
      const buttons = document.querySelectorAll('.filter-btn');
      
      buttons.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      cards.forEach(card => {
        const isAdvanced = card.closest('.step-five-a, .step-five-a1, .step-five-a2, .step-five-b1, .step-five-b2, .step-six, .step-seven-a, .step-seven-b, .step-seven-c, .step-seven-d');
        
        if (level === 'all') {
          card.classList.remove('hidden');
        } else if (level === 'beginner' && !isAdvanced) {
          card.classList.remove('hidden');
        } else if (level === 'advanced' && isAdvanced) {
          card.classList.remove('hidden');
        } else {
          card.classList.add('hidden');
        }
      });
    }
  </script>

  <!-- Progress Tracker Script -->
  <script>
    // Automatic count - jab bhi video add karo, automatic update
    const TOTAL_VIDEOS = document.querySelectorAll('.complete-btn').length;

    // Load progress on page load
    document.addEventListener('DOMContentLoaded', function() {
      loadProgress();
    });

    function toggleComplete(button, videoId) {
      const card = button.closest('.learning-card');
      let completedVideos = JSON.parse(localStorage.getItem('completedVideos')) || [];
      
      if (completedVideos.includes(videoId)) {
        // Remove from completed
        completedVideos = completedVideos.filter(id => id !== videoId);
        button.classList.remove('completed');
        button.innerHTML = '<span class="check-icon">âœ“</span> Mark Complete';
        card.classList.remove('completed');
      } else {
        // Add to completed
        completedVideos.push(videoId);
        button.classList.add('completed');
        button.innerHTML = '<span class="check-icon">âœ“</span> Completed!';
        card.classList.add('completed');
      }
      
      localStorage.setItem('completedVideos', JSON.stringify(completedVideos));
      updateProgressBar();
    }

    function loadProgress() {
      const completedVideos = JSON.parse(localStorage.getItem('completedVideos')) || [];
      
      completedVideos.forEach(videoId => {
        const button = document.querySelector(`[onclick*="${videoId}"]`);
        if (button) {
          const card = button.closest('.learning-card');
          button.classList.add('completed');
          button.innerHTML = '<span class="check-icon">âœ“</span> Completed!';
          card.classList.add('completed');
        }
      });
      
      updateProgressBar();
    }

    function updateProgressBar() {
      const completedVideos = JSON.parse(localStorage.getItem('completedVideos')) || [];
      const completed = completedVideos.length;
      const percentage = (completed / TOTAL_VIDEOS) * 100;
      
      document.getElementById('progressBar').style.width = percentage + '%';
      document.getElementById('progressCount').textContent = `${completed}/${TOTAL_VIDEOS} Completed`;
    }

    // Reset Progress (use in console if needed: resetProgress())
    function resetProgress() {
      localStorage.removeItem('completedVideos');
      location.reload();
    }
  </script>

</body>
</html>
