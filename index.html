<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>TradeLab | Free Trading Education</title>
  <meta name="description" content="TradeLab - Free trading education platform. Learn price action, smart money concepts, risk management, candlestick patterns, and build profitable trading strategies. 100% free forever.">
<meta name="keywords" content="trading education, free trading course, price action, smart money concepts, SMC, risk management, candlestick patterns, support resistance, liquidity, trading psychology, backtesting, TradeLab">
<meta name="author" content="TradeLab">
<meta name="robots" content="index, follow">

<!-- Open Graph -->
<meta property="og:title" content="TradeLab | Free Trading Education">
<meta property="og:description" content="Learn trading the right way. Free structured education on price action, SMC, risk management & strategy building.">
<meta property="og:image" content="https://aneekpal01.github.io/Tradelab/og-banner.png">
<meta property="og:url" content="https://aneekpal01.github.io/Tradelab/">
<meta property="og:type" content="website">

<!-- Twitter -->
<meta name="twitter:card" content="summary_large_image">
<meta name="twitter:title" content="TradeLab | Free Trading Education">
<meta name="twitter:description" content="Learn trading the right way. Free structured education on price action, SMC, risk management & strategy building.">
<meta name="twitter:image" content="https://aneekpal01.github.io/Tradelab/og-banner.png">
<link rel="icon" type="image/png" href="logo.png">
  <link rel="stylesheet" href="style.css"/>
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">
  
  <style>
    body {
      opacity: 0;
      transition: opacity 0.5s ease;
    }
    .hidden {
      display: none !important;
    }
    
    /* Loader Logo Styles */
    .loader-logo {
      width: 160px;
      height: 120px;
      animation: pulse 1.5s ease-in-out infinite;
    }
    
    @keyframes pulse {
      0%, 100% { 
        transform: scale(1); 
        opacity: 1; 
      }
      50% { 
        transform: scale(1.15); 
        opacity: 0.8; 
      }
    }
  </style>
  <script>
  window.AI_LEVEL = "Beginner";   // default mode
</script>

</head>
<body class="loading">
  

  <!-- TradingView Ticker -->
  <div class="tradingview-widget-container">
    <div class="tradingview-widget-container__widget"></div>
    <script type="text/javascript" src="https://s3.tradingview.com/external-embedding/embed-widget-ticker-tape.js" async>
    {
    "symbols": [
      { "proName": "BITSTAMP:BTCUSD", "title": "Bitcoin" },
      { "proName": "BITSTAMP:ETHUSD", "title": "Ethereum" },
      { "proName": "BINANCE:SOLUSDT", "title": "Solana" },
      { "proName": "FX_IDC:USDINR", "title": "USD/INR" },
      { "proName": "NASDAQ:TSLA", "title": "Tesla" }
    ],
    "showSymbolLogo": true,
    "colorTheme": "dark",
    "isTransparent": false,
    "displayMode": "adaptive",
    "locale": "en"
    }
    </script>
  </div>

  <!-- Loader with Logo -->
  <div class="loader-wrapper" id="loader">
    <img src="logo.png" alt="TradeLab" class="loader-logo">
    <div class="loader-text">
      <span>T</span><span>r</span><span>a</span><span>d</span><span>e</span><span>L</span><span>a</span><span>b</span>
    </div>
  </div>

  <!-- Navbar -->
  <nav class="navbar">
  <div class="logo">
  <img src="logo.png" alt="TradeLab" class="nav-logo">
  TradeLab
</div>
    
    <button class="hamburger" id="hamburger" onclick="toggleMenu()">
      <span class="bar"></span>
      <span class="bar"></span>
      <span class="bar"></span>
    </button>
    
    <ul class="nav-links" id="navLinks">
      <li>
    <button onclick="toggleChat()" class="nav-btn ai-mentor-btn">
        ü§ñ AI Mentor
    </button>
</li>
      <li><a href="#learn">Learning Vault</a></li>
      <li><a href="backtest.html" style="color: #58a6ff;">Backtesting Lab</a></li>
      <li><a href="calculator.html" style="color: #ffb700;">Risk Calculator</a></li>
      <li><a href="quiz.html" style="color: #9c00ff;">Quiz</a></li>
      <li><a href="#faq">FAQ</a></li>

      <li id="loginItem"><a href="login.html">Login</a></li>
      <li id="userItem" style="display: none; color: #00ffc8; font-weight: 600; font-size: 14px; padding-top: 10px;"></li>
      <li id="logoutItem" style="display: none;"><a href="#" onclick="logoutUser()">Logout</a></li>
    </ul>
  </nav>

  <!-- Theme Toggle -->
  <button class="theme-toggle" onclick="toggleTheme()" title="Toggle Dark/Light Mode">
    <span class="icon-moon">üåô</span>
    <span class="icon-sun">‚òÄÔ∏è</span>
  </button>

  <!-- Back to Top -->
  <button class="back-to-top" id="backToTop" onclick="scrollToTop()" title="Back to Top">
    ‚Üë
  </button>

  <!-- Hero Section -->
  <section class="hero">
    <h1>Learn Trading the Right Way</h1>
    <p>
      TradeLab is a free educational platform focused on trading concepts,
      risk management, and disciplined thinking ‚Äî not signals.
    </p>
   <a href="#learn" class="btn">Start Learning</a>
    
    <!-- Stats Counter -->
    <div class="stats-container">
      <div class="stat-item">
        <span class="stat-number" data-target="5000">0</span>
        <span class="stat-label">Students Enrolled</span>
      </div>
      <div class="stat-item">
        <span class="stat-number" data-target="1800">0</span>
        <span class="stat-label">Already Learning</span>
      </div>
      <div class="stat-item">
        <span class="stat-number" data-target="25">0</span>
        <span class="stat-label">Video Lessons</span>
      </div>
      <div class="stat-item">
        <span class="stat-number" data-target="100">0</span>
        <span class="stat-label">% Free Forever</span>
      </div>
    </div>
  </section>

  <!-- Confetti Canvas -->
  <canvas id="confettiCanvas"></canvas>

  <!-- Certificate Modal -->
  <div class="modal-overlay" id="certificateModal">
    <div class="modal-content certificate-modal">
      <button class="modal-close" onclick="closeCertificateModal()">&times;</button>
      <h2>üéâ Congratulations!</h2>
      <p>You've completed the TradeLab Trading Course!</p>
      <div class="certificate-preview" id="certificatePreview">
        <div class="certificate">
          <div class="certificate-border">
            <div class="certificate-inner">
              <!-- Logo Added Here -->
              <div class="certificate-logo">
                <img src="logo.png" alt="TradeLab Logo" class="cert-logo-img">
              </div>
              <div class="certificate-header">
                <h1>Certificate of Completion</h1>
                <p>TradeLab Trading Education</p>
              </div>
              <div class="certificate-body">
                <p>This is to certify that</p>
                <h2 id="certName">Student Name</h2>
                <p>has successfully completed the</p>
                <h3>Complete Trading Education Course</h3>
                <p>covering Price Action, Smart Money Concepts, Risk Management & Strategy Building</p>
              </div>
              <div class="certificate-footer">
                <div class="cert-date">
                  <p>Date: <span id="certDate"></span></p>
                </div>
                <div class="cert-signature">
                  <!-- Updated Signature -->
                  <img src="signature.png" alt="Signature" class="signature-img">
                  <p class="signature-name">Aneek Pal</p>
                  <p class="signature-title">Founder, TradeLab</p>
                </div>
              </div>
            </div>
          </div>
        </div>
      </div>
      <div class="certificate-actions">
        <input type="text" id="nameInput" placeholder="Enter your name" class="cert-input">
        <button class="btn-primary" onclick="generateCertificate()">üì• Download Certificate</button>
      </div>
    </div>
  </div>

  <!-- Learning Vault Section -->
  <section id="learn" class="learning">
    <h2>Learning Vault</h2>
    <p class="section-intro">
      Structured, free trading education ‚Äî built for clarity, not hype.
    </p>

    <!-- Progress Tracker -->
    <div class="progress-tracker">
      <div class="progress-info">
        <span class="progress-text">Your Progress</span>
        <span class="progress-count" id="progressCount">0/25 Completed</span>
      </div>
      <div class="progress-bar-container">
        <div class="progress-bar-fill" id="progressBar"></div>
      </div>
      <div style="text-align: right; margin-top: 10px;">
        <button class="reset-btn" onclick="resetProgress()">üîÑ Reset Progress</button>
      </div>
    </div>
    
    <!-- Search & Filter -->
    <div class="search-filter-container">
      <div class="search-box">
        <input type="text" id="searchInput" placeholder="üîç Search videos..." onkeyup="filterVideos()">
      </div>
      <div class="filter-buttons">
        <button class="filter-btn active" onclick="filterByLevel('all')">All</button>
        <button class="filter-btn" onclick="filterByLevel('beginner')">Beginner</button>
        <button class="filter-btn" onclick="filterByLevel('advanced')">Advanced</button>
      </div>
    </div>

    <!-- Learning Grid -->
    <div class="learning-grid">
      
      <!-- VIDEO 1 -->
      <div class="learning-card step-one">
        <span class="step-badge">STEP 1 ¬∑ START HERE</span>
        <h3>Trading Roadmap (0 ‚Üí Advanced)</h3>
        <div class="video-card"> 
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">33:13</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/hqXoZtC2sEU" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Complete beginner-to-advanced trading roadmap. Watch this first before learning anything else.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-1')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>
      
      <!-- VIDEO 2 -->
      <div class="learning-card step-two">
        <span class="step-badge step-two-badge">STEP 2 ¬∑ CANDLESTICKS</span>
        <h3>Learn Candlestick Patterns</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">13:30</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/AOz1YPOKvEs" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn candlestick basics, important patterns, and the psychology behind price movement.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-2')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 3 -->
      <div class="learning-card step-two">
        <span class="step-badge step-two-badge">STEP 2A ¬∑ MARKET STRUCTURE</span>
        <h3>Basics of Market Structure</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">20:45</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/sZAE_lqdeno" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Understand market structure: higher high, higher low, trend shifts, BOS, and structure-based thinking.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-3')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 4 -->
      <div class="learning-card step-two">
        <span class="step-badge step-two-badge">STEP 2B ¬∑ TRENDLINES</span>
        <h3>Learn Trendlines (Correct Way)</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">45:25</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/Y8efWZ2M1y8" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how to draw valid trendlines, common mistakes, and trend confirmation.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-4')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 5 -->
      <div class="learning-card step-three">
        <span class="step-badge step-three-badge">STEP 3 ¬∑ SUPPORT & RESISTANCE</span>
        <h3>Support & Resistance (Core Concept)</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">41:26</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/nuVv0ZWUfs4" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how institutions mark support & resistance, role-reversal, and supply‚Äìdemand zones.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-5')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 6 -->
      <div class="learning-card step-three">
        <span class="step-badge step-three-badge">STEP 3A ¬∑ ADVANCED S&R</span>
        <h3>Support & Resistance (Advanced)</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">17:30</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/nujw5BabrWk" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Advanced support & resistance concepts including zone marking and fake breakouts.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-6')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 7 -->
      <div class="learning-card step-three">
        <span class="step-badge step-three-badge">STEP 3B ¬∑ ENTRY & STOP-LOSS</span>
        <h3>Entry & Stop-Loss Techniques</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">7:25</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/txXUUeMDos8" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn proper entry timing and stop-loss placement to protect capital.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-7')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 8 -->
      <div class="learning-card step-four">
        <span class="step-badge step-four-badge">STEP 4 ¬∑ RISK MANAGEMENT</span>
        <h3>Risk Management Fundamentals</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">12:38</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/VzMlFZbWA0Y" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn position sizing, risk per trade, stop-loss logic, and how professionals protect capital.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-8')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 9 -->
      <div class="learning-card step-five">
        <span class="step-badge step-five-badge">STEP 5 ¬∑ TRADING PSYCHOLOGY</span>
        <h3>Trading Psychology & Mindset</h3>
        <div class="video-card">
          <span class="level-tag beginner">BEGINNER</span>
          <span class="duration">13:49</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/RzElN0uHsns" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>üìò <strong>Recommended:</strong> "Trading in the Zone" by Mark Douglas. <a href="https://www.amazon.in/dp/0735201447" target="_blank" style="color: #00d4ff;">Get it here</a></p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-9')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- ADVANCED SEPARATOR -->
      <div class="advanced-separator-container">
        <span class="advanced-separator-content">üöÄ ADVANCED CONCEPTS</span>
      </div> 

      <!-- VIDEO 10 -->
      <div class="learning-card step-five-a">
        <span class="step-badge">STEP 5A ¬∑ LIQUIDITY</span>
        <h3>Liquidity (How Big Players Move Price)</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">25:26</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/YUUefUXeZwI" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Understand liquidity concepts like stop hunts, liquidity pools, and inducement.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-10')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 11 -->
      <div class="learning-card step-five-a1">
        <span class="step-badge">STEP 5A1 ¬∑ LIQUIDITY PRO</span>
        <h3>Liquidity Pro (Advanced)</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">1:49:36</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/DAnXM7C16h0" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Deep dive into advanced liquidity concepts including engineered liquidity and multi-timeframe mapping.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-11')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 12 -->
      <div class="learning-card step-five-a2">
        <span class="step-badge">STEP 5A2 ¬∑ SUPPLY & DEMAND</span>
        <h3>Supply & Demand Masterclass</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">40:02</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/yaCM_cr5BXo" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how supply and demand zones are formed and how to trade high-probability zones.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-12')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 13 -->
      <div class="learning-card step-five-b1">
        <span class="step-badge">STEP 5B1 ¬∑ SMC</span>
        <h3>Smart Money Concepts (SMC)</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">17:45</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/52m-dt1tDvw" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn core SMC concepts like BOS, CHoCH, order blocks, and inducement.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-13')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 14 -->
      <div class="learning-card step-five-b2">
        <span class="step-badge">STEP 5B2 ¬∑ SMC CONTINUATION</span>
        <h3>Smart Money Concepts (Continuation)</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">17:53</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/K1BuYD5KhQ8" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Advanced continuation of SMC concepts including refinement and confirmation logic.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-14')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 15 -->
      <div class="learning-card step-six">
        <span class="step-badge step-six-badge">STEP 6 ¬∑ RSI ADVANCED</span>
        <h3>RSI Advanced Techniques</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">8:51</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/EtRcYFhLSSM" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Advanced concepts of RSI: divergence, confirmation, and multi-timeframe signals.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-15')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 16 -->
      <div class="learning-card step-six">
        <span class="step-badge step-six-badge">STEP 6A ¬∑ EMA / MOVING AVERAGE</span>
        <h3>EMA & Moving Average Techniques</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">9:08</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/k_kSCjdf8D0" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn the logic behind EMA and moving averages, trend confirmation, and crossovers.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-16')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 17 -->
      <div class="learning-card step-seven-a">
        <span class="step-badge step-seven-badge">STEP 7A ¬∑ PARTIAL BOOKING</span>
        <h3>Partial Booking Techniques</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">18:02</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/PgRZw4omcC8" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how to book partial profits at key levels while letting the rest of the position run.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-17')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 18 -->
      <div class="learning-card step-seven-b">
        <span class="step-badge step-seven-badge">STEP 7B ¬∑ TRAILING STOP-LOSS</span>
        <h3>Trailing Stop-Loss (Protect Profits)</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">23:07</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/0kl47rZZ4SQ" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how to trail stop-loss using structure to lock profits while letting winning trades run.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-18')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 19 -->
      <div class="learning-card step-seven-c">
        <span class="step-badge step-seven-badge">STEP 7C ¬∑ BREAKEVEN LOGIC</span>
        <h3>Breakeven Logic (Protect Capital)</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">6:57</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/Khs1hwkIOiM" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn when and how to move stop-loss to breakeven without getting stopped out early.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-19')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 20 - Text Card -->
      <div class="learning-card step-seven-d">
        <span class="step-badge step-seven-badge">STEP 7D ¬∑ SCALING IN & OUT</span>
        <h3>Scaling In & Scaling Out</h3>
        <div class="video-card text-card">
          <span class="level-tag advanced">ADVANCED</span>
          <div class="text-content">
            <div class="concept-item">
              <h4>üìà Scaling In</h4>
              <p>Adding more position to a winning trade when market confirms direction.</p>
              <ul>
                <li>‚úÖ Add only to winning trades</li>
                <li>‚ùå Never add to losing trades</li>
                <li>‚úÖ Add after break & retest</li>
              </ul>
            </div>
            <div class="concept-item">
              <h4>üìâ Scaling Out</h4>
              <p>Booking profit in parts instead of closing entire trade at once.</p>
            </div>
            <div class="golden-rule">
              üèÜ <strong>Golden Rule:</strong> Scale In on winners. Scale Out to protect profits.
            </div>
          </div>
        </div>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-20')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 21 -->
      <div class="learning-card step-eight">
        <span class="step-badge step-eight-badge">STEP 8 ¬∑ MULTI-TIMEFRAME</span>
        <h3>Multi-Timeframe Analysis</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">43:00</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/T6cW9vMIPPQ" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how to analyze higher and lower timeframes together to build strong trade bias.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-21')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 22 -->
      <div class="learning-card step-eight-a">
        <span class="step-badge step-eight-badge">STEP 8A ¬∑ TOP DOWN ANALYSIS</span>
        <h3>Top Down Analysis (HTF ‚Üí LTF)</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">27:29</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/FmKJDOSUAUY" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how to analyze higher timeframes first and then move to lower timeframes for entries.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-22')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 23 -->
      <div class="learning-card step-eight-b">
        <span class="step-badge step-eight-badge">STEP 8B ¬∑ FALSE BREAKOUTS</span>
        <h3>Avoid False Breakouts</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">8:23</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/ZudTPpJCbbA" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how to avoid fake breakouts using higher-timeframe bias and confirmation rules.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-23')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 24 -->
      <div class="learning-card step-nine">
        <span class="step-badge step-nine-badge">STEP 9 ¬∑ BACKTESTING</span>
        <h3>Backtesting Your Strategy</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">18:35</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/R3T1zRyZdMc" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how to backtest properly to understand win-rate, drawdown, and build confidence.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-24')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>

      <!-- VIDEO 25 -->
      <div class="learning-card step-ten">
        <span class="step-badge step-ten-badge">STEP 10 ¬∑ STRATEGY BUILDING</span>
        <h3>Build a Profitable Strategy</h3>
        <div class="video-card">
          <span class="level-tag advanced">ADVANCED</span>
          <span class="duration">42:24</span>
          <div class="video-box">
            <iframe src="https://www.youtube.com/embed/wgY2k32gsVg" loading="lazy" allowfullscreen></iframe>
          </div>
        </div>
        <p>Learn how to build a complete trading strategy using rules, confluence, and discipline.</p>
        <button class="complete-btn" onclick="toggleComplete(this, 'video-25')">
          <span class="check-icon">‚úì</span> Mark Complete
        </button>
      </div>
      
      <!-- No Results -->
      <div id="noResults" class="hidden" style="text-align: center; width: 100%; padding: 40px; color: #888;">
        <h3>üòï No videos found</h3>
        <p>Try searching for "Candlestick", "RSI", or "SMC"</p>
      </div>

    </div>
  </section>

  <!-- ===== EASY TO UNDERSTAND SECTION ===== -->
  <section id="easy-concepts" class="easy-section">
    <h2>üìä Easy to Understand</h2>
    <p class="section-intro">
      Visual guides to master Smart Money Concepts ‚Äî simple images, powerful insights.
    </p>

    <div class="concepts-grid">
      
      <!-- Concept 1: Supply & Demand -->
      <div class="concept-card">
        <div class="concept-image" onclick="openLightbox(0)">
          <img src="concepts/supply-demand.png" alt="Supply & Demand Entry Model" loading="lazy">
        </div>
        <div class="concept-info">
          <span class="concept-number">01</span>
          <h3>Supply & Demand Entry Model</h3>
          <p>Price moves between zones of supply (resistance) and demand (support). Look for confirmation at these zones.</p>
        </div>
      </div>

      <!-- Concept 2: AMD -->
      <div class="concept-card">
        <div class="concept-image" onclick="openLightbox(1)">
          <img src="concepts/amd.png" alt="Accumulation Manipulation Distribution" loading="lazy">
        </div>
        <div class="concept-info">
          <span class="concept-number">02</span>
          <h3>Accumulation | Manipulation | Distribution</h3>
          <p>Smart money buys in stealth, creates false breakouts to trap retail, then distributes at highs.</p>
        </div>
      </div>

      <!-- Concept 3: Asia Range -->
      <div class="concept-card">
        <div class="concept-image" onclick="openLightbox(2)">
          <img src="concepts/asia-range.png" alt="Asia Range Liquidity Sweep" loading="lazy">
        </div>
        <div class="concept-info">
          <span class="concept-number">03</span>
          <h3>Asia Range Liquidity Sweep</h3>
          <p>Price ranges during Asian session, then sweeps liquidity during London open. Trade the reversal.</p>
        </div>
      </div>

      <!-- Concept 4: CHOCH -->
      <div class="concept-card">
        <div class="concept-image" onclick="openLightbox(3)">
          <img src="concepts/choch.png" alt="CHOCH & Retest Order Block" loading="lazy">
        </div>
        <div class="concept-info">
          <span class="concept-number">04</span>
          <h3>CHOCH & Retest Order Block</h3>
          <p>Change of Character confirms trend reversal. Wait for retracement into the Order Block for sniper entries.</p>
        </div>
      </div>

      <!-- Concept 5: Liquidity Sweep -->
      <div class="concept-card">
        <div class="concept-image" onclick="openLightbox(4)">
          <img src="concepts/liquidity-sweep.png" alt="Liquidity Sweep + Grab" loading="lazy">
        </div>
        <div class="concept-info">
          <span class="concept-number">05</span>
          <h3>Liquidity Sweep + Grab</h3>
          <p>Price "grabs" stop-loss clusters before moving in true direction. Trade the second move, not the fake-out.</p>
        </div>
      </div>

      <!-- Concept 6: Breaker -->
      <div class="concept-card">
        <div class="concept-image" onclick="openLightbox(5)">
          <img src="concepts/breaker.png" alt="Breaker Short Entry Model" loading="lazy">
        </div>
        <div class="concept-info">
          <span class="concept-number">06</span>
          <h3>Breaker Short Entry Model</h3>
          <p>Former demand zone turns into resistance after being broken. Short when price retests the broken demand.</p>
        </div>
      </div>

    </div>
  </section>

  <!-- Image Lightbox Modal -->
  <div class="image-lightbox" id="imageLightbox" onclick="closeLightbox(event)">
    <button class="lightbox-close" onclick="closeLightbox(event)">&times;</button>
    <button class="lightbox-nav lightbox-prev" onclick="navigateLightbox(event, -1)">&#10094;</button>
    <img src="" alt="" id="lightboxImage">
    <button class="lightbox-nav lightbox-next" onclick="navigateLightbox(event, 1)">&#10095;</button>
    <div class="lightbox-title" id="lightboxTitle"></div>
  </div>

  <!-- Lightbox Script -->
  <script>
    const conceptImages = [
      { src: 'concepts/supply-demand.png', title: 'Supply & Demand Entry Model' },
      { src: 'concepts/amd.png', title: 'Accumulation | Manipulation | Distribution' },
      { src: 'concepts/asia-range.png', title: 'Asia Range Liquidity Sweep' },
      { src: 'concepts/choch.png', title: 'CHOCH & Retest Order Block' },
      { src: 'concepts/liquidity-sweep.png', title: 'Liquidity Sweep + Grab' },
      { src: 'concepts/breaker.png', title: 'Breaker Short Entry Model' }
    ];
    
    let currentImageIndex = 0;

    function openLightbox(index) {
      currentImageIndex = index;
      const lightbox = document.getElementById('imageLightbox');
      const img = document.getElementById('lightboxImage');
      const title = document.getElementById('lightboxTitle');
      
      img.src = conceptImages[index].src;
      img.alt = conceptImages[index].title;
      title.textContent = conceptImages[index].title;
      
      lightbox.classList.add('active');
      document.body.style.overflow = 'hidden';
    }

    function closeLightbox(event) {
      if (event.target.classList.contains('image-lightbox') || 
          event.target.classList.contains('lightbox-close')) {
        document.getElementById('imageLightbox').classList.remove('active');
        document.body.style.overflow = 'auto';
      }
    }

    function navigateLightbox(event, direction) {
      event.stopPropagation();
      currentImageIndex += direction;
      
      if (currentImageIndex < 0) currentImageIndex = conceptImages.length - 1;
      if (currentImageIndex >= conceptImages.length) currentImageIndex = 0;
      
      const img = document.getElementById('lightboxImage');
      const title = document.getElementById('lightboxTitle');
      
      img.src = conceptImages[currentImageIndex].src;
      img.alt = conceptImages[currentImageIndex].title;
      title.textContent = conceptImages[currentImageIndex].title;
    }

    // Keyboard navigation
    document.addEventListener('keydown', (e) => {
      const lightbox = document.getElementById('imageLightbox');
      if (!lightbox.classList.contains('active')) return;
      
      if (e.key === 'Escape') {
        lightbox.classList.remove('active');
        document.body.style.overflow = 'auto';
      }
      if (e.key === 'ArrowLeft') navigateLightbox(e, -1);
      if (e.key === 'ArrowRight') navigateLightbox(e, 1);
    });
  </script>

  <!-- FAQ Section -->
  <section id="faq" class="faq-section">
    <h2>‚ùì Frequently Asked Questions</h2>
    <div class="faq-container">
      
      <div class="faq-item">
        <button class="faq-question" onclick="toggleFaq(this)">
          <span>Is TradeLab really 100% free?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>Yes. Our mission is to provide high-quality trading education without selling courses. We believe knowledge should be accessible to everyone.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question" onclick="toggleFaq(this)">
          <span>Do you provide trading signals or calls?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>No. We are strictly against "tips" and "calls." We teach you how to trade so you don't have to depend on anyone else.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question" onclick="toggleFaq(this)">
          <span>Which markets do these concepts apply to?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>Price action is universal. The concepts (Support/Resistance, SMC, Liquidity) work on Crypto, Forex, Indian Stocks, and Indices (Nifty/BankNifty).</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question" onclick="toggleFaq(this)">
          <span>I am a complete beginner. Where do I start?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>Start from Step 1 (Roadmap) and follow the numbers sequentially. Do not jump to advanced topics directly.</p>
        </div>
      </div>

      <div class="faq-item">
        <button class="faq-question" onclick="toggleFaq(this)">
          <span>My progress isn't saving. What should I do?</span>
          <span class="faq-icon">+</span>
        </button>
        <div class="faq-answer">
          <p>Progress is saved in your browser's local storage. Please do not clear your browser cache or history if you want to keep your progress data.</p>
        </div>
      </div>

    </div>
  </section>

  <!-- Footer -->
  <footer class="footer">
    <div class="footer-container">
      <div class="footer-brand">
        <h3 class="footer-logo">TradeLab</h3>
        <p class="footer-desc">Free trading education platform focused on concepts, risk management, and disciplined thinking ‚Äî not signals.</p>
        <div class="footer-social">
          <a href="#" class="social-link" title="YouTube">üì∫</a>
          <a href="#" class="social-link" title="Twitter">üê¶</a>
          <a href="#" class="social-link" title="Discord">üí¨</a>
          <a href="#" class="social-link" title="Telegram">‚úàÔ∏è</a>
        </div>
      </div>
      
      <div class="footer-links">
        <h4>Quick Links</h4>
        <ul>
          <li><a href="#learn">Learning Vault</a></li>
          <li><a href="backtest.html">Backtesting Lab</a></li>
          <li><a href="#faq">FAQ</a></li>
          <li><a href="#community">Community</a></li>
        </ul>
      </div>
      
      <div class="footer-links">
        <h4>Resources</h4>
        <ul>
          <li><a href="#">Trading Books</a></li>
          <li><a href="#">Candlestick Patterns</a></li>
          <li><a href="#">Risk Calculator</a></li>
          <li><a href="#">Glossary</a></li>
        </ul>
      </div>
      
      <div class="footer-links">
        <h4>Contact</h4>
        <ul>
          <li><a href="/cdn-cgi/l/email-protection#5a2e283b3e3f363b38743f3e2f742e3f3b371a3d373b333674393537">üìß <span class="__cf_email__" data-cfemail="196d6b787d7c75787b377c7d6c376d7c7874597e74787075377a7674">[email&#160;protected]</span></a></li>
          <li><a href="#">üìç India</a></li>
          <li><a href="#">üíº Collaborate</a></li>
        </ul>
      </div>
    </div>
    
    <div class="footer-bottom">
      <p>¬© 2025 TradeLab. All rights reserved. | Education-first trading insights.</p>
      <p class="disclaimer">Disclaimer: Trading involves risk. This is educational content only, not financial advice.</p>
    </div>
  </footer>

  <!-- Firebase Scripts -->
  <script data-cfasync="false" src="/cdn-cgi/scripts/5c5dd728/cloudflare-static/email-decode.min.js"></script><script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
  <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>

  <script>
    var firebaseConfig = {
        apiKey: "AIzaSyADSKrrnamZj2_jkfueTXempsNOZlT_nCw",
        authDomain: "tradelab-36d73.firebaseapp.com",
        projectId: "tradelab-36d73",
        storageBucket: "tradelab-36d73.firebasestorage.app",
        messagingSenderId: "29426653428",
        appId: "1:29426653428:web:c6bce7c3d70ecd5be4bf51"
    };

    firebase.initializeApp(firebaseConfig);
    const auth = firebase.auth();

    const loginItem = document.getElementById('loginItem');
    const logoutItem = document.getElementById('logoutItem');
    const userItem = document.getElementById('userItem');
    
    auth.onAuthStateChanged((user) => {
      if (user) {
        document.body.style.opacity = "1";
        if(loginItem) loginItem.style.display = 'none';
        if(logoutItem) logoutItem.style.display = 'block';
        if(userItem) {
          userItem.style.display = 'block';
          userItem.textContent = "Hi, " + user.email.split('@')[0];
        }
      } else {
        window.location.href = "login.html";
      }
    });

    function logoutUser() {
      auth.signOut();
    }
  </script>

  <script>
    function filterVideos() {
      const searchTerm = document.getElementById('searchInput').value.toLowerCase();
      const cards = document.querySelectorAll('.learning-card');
      const noResults = document.getElementById('noResults');
      let visibleCount = 0;
      
      cards.forEach(card => {
        const title = card.querySelector('h3').textContent.toLowerCase();
        const desc = card.querySelector('p') ? card.querySelector('p').textContent.toLowerCase() : '';
        
        if (title.includes(searchTerm) || desc.includes(searchTerm)) {
          card.classList.remove('hidden');
          visibleCount++;
        } else {
          card.classList.add('hidden');
        }
      });

      noResults.classList.toggle('hidden', visibleCount > 0);
    }

    function filterByLevel(level) {
      const cards = document.querySelectorAll('.learning-card');
      const buttons = document.querySelectorAll('.filter-btn');
      
      buttons.forEach(btn => btn.classList.remove('active'));
      event.target.classList.add('active');
      
      cards.forEach(card => {
        const levelTag = card.querySelector('.level-tag');
        const isAdvanced = levelTag && levelTag.classList.contains('advanced');
        
        if (level === 'all') {
          card.classList.remove('hidden');
        } else if (level === 'beginner' && !isAdvanced) {
          card.classList.remove('hidden');
        } else if (level === 'advanced' && isAdvanced) {
          card.classList.remove('hidden');
        } else {
          card.classList.add('hidden');
        }
      });
      document.getElementById('noResults').classList.add('hidden');
    }
  </script>

  <script>
    const TOTAL_VIDEOS = document.querySelectorAll('.complete-btn').length;

    document.addEventListener('DOMContentLoaded', loadProgress);

    function toggleComplete(button, videoId) {
      const card = button.closest('.learning-card');
      let completedVideos = JSON.parse(localStorage.getItem('completedVideos')) || [];
      
      if (completedVideos.includes(videoId)) {
        completedVideos = completedVideos.filter(id => id !== videoId);
        button.classList.remove('completed');
        button.innerHTML = '<span class="check-icon">‚úì</span> Mark Complete';
        card.classList.remove('completed');
      } else {
        completedVideos.push(videoId);
        button.classList.add('completed');
        button.innerHTML = '<span class="check-icon">‚úì</span> Completed!';
        card.classList.add('completed');
      }
      
      localStorage.setItem('completedVideos', JSON.stringify(completedVideos));
      updateProgressBar();
    }

    function loadProgress() {
      const completedVideos = JSON.parse(localStorage.getItem('completedVideos')) || [];
      
      completedVideos.forEach(videoId => {
        const button = document.querySelector('[onclick*="' + videoId + '"]');
        if (button) {
          const card = button.closest('.learning-card');
          button.classList.add('completed');
          button.innerHTML = '<span class="check-icon">‚úì</span> Completed!';
          card.classList.add('completed');
        }
      });
      
      updateProgressBar();
    }

    function updateProgressBar() {
      const completedVideos = JSON.parse(localStorage.getItem('completedVideos')) || [];
      const completed = completedVideos.length;
      const percentage = (completed / TOTAL_VIDEOS) * 100;
      
      document.getElementById('progressBar').style.width = percentage + '%';
      document.getElementById('progressCount').textContent = completed + '/' + TOTAL_VIDEOS + ' Completed';
    }

    function resetProgress() {
      if(confirm('Are you sure you want to reset all progress?')) {
        localStorage.removeItem('completedVideos');
        location.reload();
      }
    }
  </script>

  <script>
    const savedTheme = localStorage.getItem('theme') || 'dark';
    document.documentElement.setAttribute('data-theme', savedTheme);

    function toggleTheme() {
      const currentTheme = document.documentElement.getAttribute('data-theme');
      const newTheme = currentTheme === 'dark' ? 'light' : 'dark';
      document.documentElement.setAttribute('data-theme', newTheme);
      localStorage.setItem('theme', newTheme);
    }
  </script>

  <script>
    const observerOptions = { threshold: 0.1, rootMargin: '0px 0px -50px 0px' };
    const observer = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) entry.target.classList.add('visible');
      });
    }, observerOptions);

    document.addEventListener('DOMContentLoaded', () => {
      document.querySelectorAll('.learning-card').forEach(card => observer.observe(card));
      document.querySelectorAll('.concept-card').forEach(card => observer.observe(card));
    });
  </script>

  <script>
    const navbar = document.querySelector('.navbar');
    const backToTopBtn = document.getElementById('backToTop');

    window.addEventListener('scroll', () => {
      navbar.classList.toggle('scrolled', window.scrollY > 100);
      backToTopBtn.classList.toggle('visible', window.scrollY > 500);
    });

    function scrollToTop() {
      window.scrollTo({ top: 0, behavior: 'smooth' });
    }
  </script>

  <script>
    window.addEventListener('load', () => {
      setTimeout(() => {
        document.getElementById('loader').classList.add('hidden');
      }, 1500);
    });
  </script>

  <script>
    function toggleMenu() {
      document.getElementById('navLinks').classList.toggle('active');
      document.getElementById('hamburger').classList.toggle('active');
    }

    document.querySelectorAll('.nav-links a').forEach(link => {
      link.addEventListener('click', () => {
        document.getElementById('navLinks').classList.remove('active');
        document.getElementById('hamburger').classList.remove('active');
      });
    });
  </script>

  <script>
    function toggleFaq(element) {
      const faqItem = element.parentElement;
      const isOpen = faqItem.classList.contains('open');
      
      document.querySelectorAll('.faq-item').forEach(item => item.classList.remove('open'));
      
      if (!isOpen) faqItem.classList.add('open');
    }
  </script>

  <!-- Stats Counter Animation with Fake Counter -->
  <script>
    // Fake Counter Logic
    let studentsCount = parseInt(localStorage.getItem('studentsCount')) || 4990;
    let learningCount = parseInt(localStorage.getItem('learningCount')) || 1790;
    
    // Increment only once per session
    if (!sessionStorage.getItem('counted')) {
      // Random increment: 1, 3, 4, 5, 6, or 7
      let options = [1, 3, 4, 5, 6, 7];
      let increment = options[Math.floor(Math.random() * options.length)];
      
      studentsCount += increment;
      learningCount += increment;
      
      localStorage.setItem('studentsCount', studentsCount);
      localStorage.setItem('learningCount', learningCount);
      sessionStorage.setItem('counted', 'true');
    }

    function animateCounters() {
      const counters = document.querySelectorAll('.stat-number');
      
      counters.forEach(counter => {
        let target = parseInt(counter.getAttribute('data-target'));
        
        // Override with our fake counts
        if (target === 5000) target = studentsCount;
        if (target === 1800) target = learningCount;
        
        const duration = 2000;
        const step = target / (duration / 16);
        let current = 0;
        
        const updateCounter = () => {
          current += step;
          if (current < target) {
            counter.textContent = Math.floor(current) + '+';
            requestAnimationFrame(updateCounter);
          } else {
            counter.textContent = target + '+';
          }
        };
        
        updateCounter();
      });
    }

    // Trigger when stats section is visible
    const statsObserver = new IntersectionObserver((entries) => {
      entries.forEach(entry => {
        if (entry.isIntersecting) {
          animateCounters();
          statsObserver.unobserve(entry.target);
        }
      });
    }, { threshold: 0.5 });

    document.addEventListener('DOMContentLoaded', () => {
      const statsContainer = document.querySelector('.stats-container');
      if (statsContainer) statsObserver.observe(statsContainer);
    });
  </script>

  <!-- Confetti Animation -->
  <script>
    const confettiCanvas = document.getElementById('confettiCanvas');
    const confettiCtx = confettiCanvas.getContext('2d');
    let confettiParticles = [];
    let confettiAnimationId;

    function resizeConfettiCanvas() {
      confettiCanvas.width = window.innerWidth;
      confettiCanvas.height = window.innerHeight;
    }

    window.addEventListener('resize', resizeConfettiCanvas);
    resizeConfettiCanvas();

    function createConfetti() {
      const colors = ['#00ff9c', '#00d4ff', '#ffb700', '#ff4d4d', '#9c00ff', '#ffffff'];
      for (let i = 0; i < 150; i++) {
        confettiParticles.push({
          x: Math.random() * confettiCanvas.width,
          y: Math.random() * confettiCanvas.height - confettiCanvas.height,
          size: Math.random() * 10 + 5,
          color: colors[Math.floor(Math.random() * colors.length)],
          speedY: Math.random() * 3 + 2,
          speedX: Math.random() * 2 - 1,
          rotation: Math.random() * 360,
          rotationSpeed: Math.random() * 10 - 5
        });
      }
    }

    function drawConfetti() {
      confettiCtx.clearRect(0, 0, confettiCanvas.width, confettiCanvas.height);
      
      confettiParticles.forEach((p, index) => {
        confettiCtx.save();
        confettiCtx.translate(p.x, p.y);
        confettiCtx.rotate(p.rotation * Math.PI / 180);
        confettiCtx.fillStyle = p.color;
        confettiCtx.fillRect(-p.size / 2, -p.size / 2, p.size, p.size / 2);
        confettiCtx.restore();

        p.y += p.speedY;
        p.x += p.speedX;
        p.rotation += p.rotationSpeed;

        if (p.y > confettiCanvas.height) {
          confettiParticles.splice(index, 1);
        }
      });

      if (confettiParticles.length > 0) {
        confettiAnimationId = requestAnimationFrame(drawConfetti);
      } else {
        confettiCanvas.style.display = 'none';
      }
    }

    function triggerConfetti() {
      confettiCanvas.style.display = 'block';
      confettiParticles = [];
      createConfetti();
      drawConfetti();
    }

    // Check if course is complete
    function checkCourseCompletion() {
      const completedVideos = JSON.parse(localStorage.getItem('completedVideos')) || [];
      const hasShownCelebration = localStorage.getItem('hasShownCelebration');
      
      if (completedVideos.length >= TOTAL_VIDEOS && !hasShownCelebration) {
        setTimeout(() => {
          triggerConfetti();
          openCertificateModal();
          localStorage.setItem('hasShownCelebration', 'true');
        }, 500);
      }
    }
  </script>

  <!-- Certificate Generator -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
  <script>
    // Track video watch time
    var videoWatchTime = JSON.parse(localStorage.getItem('videoWatchTime')) || {};
    var activeVideo = null;
    var watchInterval = null;

    // Start tracking when video plays
    function trackVideoWatch(videoId, duration) {
      if (!videoWatchTime[videoId]) {
        videoWatchTime[videoId] = 0;
      }
      activeVideo = videoId;
      
      // Clear existing interval
      if (watchInterval) clearInterval(watchInterval);
      
      // Track every second
      watchInterval = setInterval(() => {
        if (activeVideo === videoId) {
          videoWatchTime[videoId]++;
          localStorage.setItem('videoWatchTime', JSON.stringify(videoWatchTime));
        }
      }, 1000);
    }

    // Stop tracking
    function stopTracking() {
      if (watchInterval) {
        clearInterval(watchInterval);
        watchInterval = null;
      }
      activeVideo = null;
    }

    // Check if video is watched enough (minimum 60 seconds or text content)
    function isVideoWatched(videoId) {
      // Text cards (like video-20) don't need watch time
      const textCards = ['video-20'];
      if (textCards.includes(videoId)) return true;
      
      const watchTime = videoWatchTime[videoId] || 0;
      return watchTime >= 60; // Minimum 60 seconds watched
    }

    // Modified toggle complete with verification
    function toggleCompleteWithVerification(button, videoId) {
      const card = button.closest('.learning-card');
      let completedVideos = JSON.parse(localStorage.getItem('completedVideos')) || [];
      
      // If trying to mark complete
      if (!completedVideos.includes(videoId)) {
        // Check if video was watched
        if (!isVideoWatched(videoId)) {
          alert('‚ö†Ô∏è Please watch the video for at least 1 minute before marking it complete!\n\nClick on the video and watch it first.');
          return;
        }
      }
      
      // Toggle completion
      if (completedVideos.includes(videoId)) {
        completedVideos = completedVideos.filter(id => id !== videoId);
        button.classList.remove('completed');
        button.innerHTML = '<span class="check-icon">‚úì</span> Mark Complete';
        card.classList.remove('completed');
      } else {
        completedVideos.push(videoId);
        button.classList.add('completed');
        button.innerHTML = '<span class="check-icon">‚úì</span> Completed!';
        card.classList.add('completed');
      }
      
      localStorage.setItem('completedVideos', JSON.stringify(completedVideos));
      updateProgressBar();
      setTimeout(checkCourseCompletion, 100);
    }

    // Override the original toggleComplete
    toggleComplete = toggleCompleteWithVerification;

    // Track iframe clicks/interactions
    document.addEventListener('DOMContentLoaded', () => {
      const iframes = document.querySelectorAll('.video-box iframe');
      
      iframes.forEach((iframe, index) => {
        const videoId = 'video-' + (index + 1);
        
        // When user clicks on iframe area
        iframe.parentElement.addEventListener('click', () => {
          trackVideoWatch(videoId, 300);
        });
        
        // Also track on mouseenter (when they hover to play)
        iframe.parentElement.addEventListener('mouseenter', () => {
          trackVideoWatch(videoId, 300);
        });
        
        iframe.parentElement.addEventListener('mouseleave', () => {
          // Don't stop immediately, give some buffer
          setTimeout(() => {
            if (activeVideo === videoId) {
              stopTracking();
            }
          }, 5000);
        });
      });
    });

    function openCertificateModal() {
      document.getElementById('certificateModal').classList.add('open');
      document.getElementById('certDate').textContent = new Date().toLocaleDateString('en-IN', {
        year: 'numeric', month: 'long', day: 'numeric'
      });
    }

    function closeCertificateModal() {
      document.getElementById('certificateModal').classList.remove('open');
    }

    function generateCertificate() {
      const name = document.getElementById('nameInput').value.trim();
      if (!name) {
        alert('Please enter your name!');
        return;
      }
      
      document.getElementById('certName').textContent = name;
      
      const certificate = document.querySelector('.certificate');
      
      html2canvas(certificate, {
        scale: 2,
        backgroundColor: '#0b0f14',
        logging: false,
        useCORS: true,
        allowTaint: true
      }).then(canvas => {
        const link = document.createElement('a');
        link.download = 'TradeLab-Certificate-' + name.replace(/\s+/g, '-') + '.png';
        link.href = canvas.toDataURL('image/png');
        link.click();
      });
    }

    // Add certificate button to progress tracker
    document.addEventListener('DOMContentLoaded', () => {
      const progressTracker = document.querySelector('.progress-tracker');
      if (progressTracker) {
        const certBtn = document.createElement('button');
        certBtn.className = 'cert-btn';
        certBtn.innerHTML = 'üéì Get Certificate';
        certBtn.onclick = () => {
          const completedVideos = JSON.parse(localStorage.getItem('completedVideos')) || [];
          if (completedVideos.length >= TOTAL_VIDEOS) {
            openCertificateModal();
          } else {
            alert('Complete all ' + TOTAL_VIDEOS + ' videos to get your certificate!\n\n‚úÖ Completed: ' + completedVideos.length + '/' + TOTAL_VIDEOS + '\n\n‚ö†Ô∏è Note: You must watch each video for at least 1 minute to mark it complete.');
          }
        };
        progressTracker.appendChild(certBtn);
      }
    });
  </script>
<div class="chat-container" id="aiChatBox">
  <div class="chat-header" id="aiChatHeader">

  <div class="header-left">
    <span class="brain">üß†</span>
    <div>
      <span class="title">TradeLab Mentor</span>
      <span class="subtitle">Powered by AI</span>
    </div>
  </div>

  <div class="header-right">
    <div class="ai-mode-mini">
<button id="ai-beginner" class="active"
  onclick="setAIMode('Beginner')">
  Beginner
</button>

<button id="ai-pro"
  onclick="setAIMode('Pro')">
  Pro
</button>


</div>


    <button onclick="toggleChat()" class="close-btn">‚úñ</button>
  </div>

</div>
 
  

  
<div class="chat-box" id="chat-box">
  <div class="bot-message">
    <strong>Hello! </strong><br>
    I am TradeLab's AI Assistant.<br><br>
    You can ask me anything about <b>Trading Psychology</b>, <b>Strategies</b>, or <b>Risk Management</b>.
  </div>
  <div id="typing-indicator" style="display:none;">
    <span class="typing-text">TradeLab Mentor is typing</span>
    <span class="dots">
      <span>.</span><span>.</span><span>.</span>
    </span>
  </div>

</div>

  

    <div class="quick-actions">
        <button onclick="sendQuickMsg('Best Intraday Strategy?')">üìà Strategy</button>
        <button onclick="sendQuickMsg('How to control emotions?')">üß† Psychology</button>
        <button onclick="sendQuickMsg('Explain RSI Divergence')">üìâ RSI</button>
    </div>

    <div class="chat-input-area">
        <input type="text" id="user-input" placeholder="Type your question..." onkeypress="handleEnter(event)">
        <button onclick="sendMessage()">‚û§</button>
    </div>
</div>
  <script src="script.js"></script>
  <script>
(function () {
  const box = document.getElementById("aiChatBox");
  const header = document.getElementById("aiChatHeader");

  if (!box || !header) {
    console.log("Chat box/header not found");
    return;
  }

  let startX = 0, startY = 0;
  let initialX = 0, initialY = 0;
  let dragging = false;

  header.addEventListener("mousedown", (e) => {
    dragging = true;
    startX = e.clientX;
    startY = e.clientY;

    const rect = box.getBoundingClientRect();
    initialX = rect.left;
    initialY = rect.top;

    box.style.right = "auto";
    box.style.bottom = "auto";

    document.body.style.userSelect = "none";
  });

  document.addEventListener("mousemove", (e) => {
    if (!dragging) return;

    const dx = e.clientX - startX;
    const dy = e.clientY - startY;

    box.style.left = initialX + dx + "px";
    box.style.top = initialY + dy + "px";
